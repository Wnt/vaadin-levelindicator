(function(){function b(t,n,l,w,h,u){u=u||{};var d=this,o=[],v=t.set(),q=t.set(),s=t.set(),g,c=t.set(),C=0,y=Math.max.apply(Math,h),z=h.length,k={pointarray:[],path:null};var B={meshwidth:1,strokewidth:2,stroke:"#f90",meshcolor:"#999",helplines:5,circleradius:10,numbers:true,numberscolor:"#fff"};for(var p in u){B[p]=u[p]}u=B;delete B;var m=function(N,L,i,E,D){var J=Math.PI/180,O=Math.cos(-E*J),I=Math.sin(-E*J),M=N+i*O,K=L+i*I,H=N+D*O,F=L+D*I,G={x:M,y:K,path:["M",n,l,"L",M,K].join(","),rest:["M",M,K,"L",H,F].join(",")};return G};for(var x=z;x--;){C+=+h[x]}g=t.circle(n,l,5).attr({stroke:u.meshcolor,fill:u.meshcolor,"stroke-width":u.meshwidth});if(u.helplines){var e=w/u.helplines;for(var x=0;x<u.helplines;x++){c.push(t.circle(n,l,e*(x+1)).attr({stroke:u.meshcolor,"stroke-width":u.meshwidth}))}}for(var x=0;x<z;x++){o[x]=m(n,l,w*h[x]/y,x*360/z,w)}k.pointarray.push("M");for(var x=0;x<z;x++){k.pointarray.push(o[x].x,o[x].y,"L")}k.pointarray.push(o[0].x,o[0].y);k.path=t.path(k.pointarray.join(",")).attr({stroke:u.stroke,"stroke-width":u.meshwidth,fill:u.stroke,"fill-opacity":0.4});for(var x=0;x<z;x++){o[x].path=t.path(o[x].path).attr({stroke:u.stroke,"stroke-width":u.strokewidth});o[x].rest=t.path(o[x].rest).attr({stroke:u.meshcolor,"stroke-width":u.meshwidth});o[x].point=t.circle(o[x].x,o[x].y,u.circleradius).attr({stroke:u.stroke,fill:u.stroke});if(u.numbers){o[x].number=t.text(o[x].x,o[x].y+1,x+1).attr(d.txtattr).attr({fill:u.numberscolor,"text-anchor":"middle"})}var A=t.set();A.push(o[x].path,o[x].rest,o[x].point);if(o[x].number){A.push(o[x].number)}q.push(A);s.push(o[x].point)}v.hover=function(F,D){D=D||function(){};var E=this;for(var r=z;r--;){(function(G,H,i){var I={arm:G.point,number:G.number,cover:H,cx:n,cy:l,mx:G.x,my:G.y,value:h[i],max:y,label:E.labels&&E.labels[i]};I.cover.mouseover(function(){F.call(I)}).mouseout(function(){D.call(I)});if(I.label){I.label.mouseover(function(){F.call(I)}).mouseout(function(){D.call(I)})}})(o[r],q[r],r)}return this};v.each=function(E){if(!Raphael.is(E,"function")){return this}var D=this;for(var r=z;r--;){(function(F,G,i){var H={arm:F.point,number:F.number,cover:G,cx:n,cy:l,x:F.x,y:F.y,value:h[i],max:y,label:D.labels&&D.labels[i]};E.call(H)})(o[r],q[r],r)}return this};v.click=function(E){var D=this;for(var r=z;r--;){(function(F,G,i){var H={arm:F.point,number:F.number,cover:G,cx:n,cy:l,mx:F.x,my:F.y,value:h[i],max:y,label:D.labels&&D.labels[i]};G.click(function(){E.call(H)});if(H.label){H.label.click(function(){E.call(H)})}})(o[r],q[r],r)}return this};var f=function(I,E,D,r){var M=n+w+w/5,L=l,H=L+10;I=I||[];r=(r&&r.toLowerCase&&r.toLowerCase())||"east";D=t[D&&D.toLowerCase()]||"circle";v.labels=t.set();for(var G=0;G<z;G++){var N=s[G].attr("fill"),F;h[G].others&&(I[j]=E||"Others");I[G]=d.labelise(I[G],h[G],C);v.labels.push(t.set());v.labels[G].push(t[D](M+5,H,8).attr({fill:N,stroke:"none"}));v.labels[G].push(F=t.text(M+20,H,I[G]||h[G]).attr(d.txtattr).attr({fill:u.legendcolor||"#000","text-anchor":"start"}));if(u.numbers){v.labels[G].push(t.text(M+5,H+1,G+1).attr(d.txtattr).attr({fill:u.numberscolor,"text-anchor":"middle"}))}q[G].label=v.labels[G];H+=F.getBBox().height*1.2}var J=v.labels.getBBox(),K={east:[0,-J.height/2],west:[-J.width-2*w-20,-J.height/2],north:[-w-J.width/2,-w-J.height-10],south:[-w-J.width/2,w+10]}[r];v.labels.translate.apply(v.labels,K);v.push(v.labels)};if(u.legend){f(u.legend,u.legendothers,u.legendmark,u.legendpos)}v.push(s,q,g,c);v.series=s;v.covers=q;return v}var a=function(){};a.prototype=Raphael.g;b.prototype=new a;Raphael.fn.radarchart=function(c,g,f,d,e){return new b(this,c,g,f,d,e)}})();